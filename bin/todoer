#! /usr/bin/env ruby
require File.expand_path('../lib/lib_trollop', File.dirname(__FILE__))

require File.expand_path('../lib/todoer', File.dirname(__FILE__))
require File.expand_path('../lib/todoer/environment', File.dirname(__FILE__))
require File.expand_path('../lib/todoer/cli', File.dirname(__FILE__))

opts = Trollop.options do 
  opt :global,  'Include global todo', :default => false
  opt :current, 'Include current project todo', :default => false
  opt :all,     'Include global and all project todos', :default => false
  opt :project, 'Include project todo(s) (paths or project names)', 
        :multi => true,
        :type => :string
end

Todoer.debug opts.inspect

Todoer::CLI.command(ARGV.shift, opts).call

